<div fxLayoutAlign="center">
  <mat-card class="card-insercao">
    <mat-card-header>
      <mat-card-title *ngIf="pedido.id == 0">Inserir Pedido</mat-card-title>
      <mat-card-title *ngIf="pedido.id != 0">Editar Pedido</mat-card-title>
    </mat-card-header>

    <mat-card-content align="center">
      <mat-form-field appearance="fill">
        <mat-label *ngIf="pedido.id == 0">Mesa</mat-label>
        <mat-label *ngIf="pedido.id != 0">{{pedido.mesa.id}}</mat-label>
        <mat-select [(ngModel)]="pedido.mesa">
          <mat-option *ngFor="let mesa of mesas" (placeholder)="pedido.mesa" [value]="mesa">Mesa {{mesa.id}}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label *ngIf="pedido.id == 0">Usuário</mat-label>
        <mat-label *ngIf="pedido.id != 0">{{pedido.usuario.nome}}</mat-label>
        <mat-select [(ngModel)]="pedido.usuario">
          <mat-option *ngFor="let usuario of usuarios" [value]="usuario">{{usuario.nome}}</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill">
        <mat-label>Itens</mat-label>
        <mat-select [(ngModel)]="pedido.itensCardapio" (selectionChange)="valorSelecionado($event)">
          <mat-option *ngFor="let item of itensCardapio" [value]="item">{{item.nome}}</mat-option>
        </mat-select>
      </mat-form-field>
      <button mat-raised-button color="primary" (click)="inserirNaLista()">
        <mat-icon>add</mat-icon>
      </button>

    </mat-card-content>

    <mat-card-header>
      <mat-card-title>Itens</mat-card-title>
    </mat-card-header>

    <mat-table [dataSource]="dataSource">
      <mat-header-row *matHeaderRowDef="mostrarColunas"></mat-header-row>
      <mat-row *matRowDef="let row; columns: mostrarColunas;"></mat-row>

      <ng-container matColumnDef="id">
        <mat-header-cell *matHeaderCellDef>Id</mat-header-cell>
        <mat-cell *matCellDef="let item">{{item.id}}</mat-cell>
      </ng-container>

      <ng-container matColumnDef="nome">
        <mat-header-cell *matHeaderCellDef>Nome</mat-header-cell>
        <mat-cell *matCellDef="let item">{{item.nome}}</mat-cell>
      </ng-container>

      <ng-container matColumnDef="preco">
        <mat-header-cell *matHeaderCellDef>Preço</mat-header-cell>
        <mat-cell *matCellDef="let item">{{item.preco}}</mat-cell>
      </ng-container>

      <ng-container matColumnDef="acoes">
        <mat-header-cell *matHeaderCellDef>Ações</mat-header-cell>
        <mat-cell *matCellDef="let item">
          <button mat-icon-button>
            <mat-icon (click)="apagarDaLista(item.id)">delete</mat-icon>
          </button>
        </mat-cell>
      </ng-container>

    </mat-table>
    <br>

    <mat-card-footer align="center">
      <button *ngIf="pedido.id == 0" mat-raised-button color="primary" (click)="inserir(pedido)">
        <mat-icon>add</mat-icon> Adicionar
      </button>
      <button *ngIf="pedido.id != 0" mat-raised-button color="primary" (click)="inserir(pedido)">
        <mat-icon>edit</mat-icon> Salvar
      </button>
    </mat-card-footer>

  </mat-card>
</div>


